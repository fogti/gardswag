---
source: crates/gardswag/src/tests.rs
expression: x
---
- - fib
  - z
  - std
  - plus
  - x
  - y
  - leq
  - n
  - minus
  - mult
  - eq
  - not
  - spawn_thread
  - make_chan
  - send
  - recv
  - chan_send
  - chan_recv
  - None
  - Some
  - stdio
  - write
- stmts: []
  term:
    offset: 17
    inner:
      Let:
        lhs:
          offset: 25
          inner: 1
          extra: ~
        rhs:
          offset: 31
          inner:
            Fix:
              arg:
                offset: 25
                inner: 1
                extra: ~
              body:
                offset: 31
                inner:
                  Lambda:
                    arg:
                      offset: 32
                      inner: 5
                      extra: ~
                    body:
                      offset: 34
                      inner:
                        Lambda:
                          arg:
                            offset: 35
                            inner: 6
                            extra: ~
                          body:
                            offset: 37
                            inner:
                              Lambda:
                                arg:
                                  offset: 38
                                  inner: 8
                                  extra: ~
                                body:
                                  offset: 40
                                  inner:
                                    Block:
                                      stmts: []
                                      term:
                                        offset: 108
                                        inner:
                                          Let:
                                            lhs:
                                              offset: 112
                                              inner: 2
                                              extra: ~
                                            rhs:
                                              offset: 119
                                              inner:
                                                Call:
                                                  prim:
                                                    offset: 119
                                                    inner:
                                                      Call:
                                                        prim:
                                                          offset: 119
                                                          inner:
                                                            Dot:
                                                              prim:
                                                                offset: 116
                                                                inner:
                                                                  Identifier: 3
                                                                extra:
                                                                  ty:
                                                                    Record:
                                                                      4:
                                                                        Arrow:
                                                                          arg_multi: Linear
                                                                          arg:
                                                                            Literal: Int
                                                                          ret:
                                                                            Arrow:
                                                                              arg_multi: Linear
                                                                              arg:
                                                                                Literal: Int
                                                                              ret:
                                                                                Literal: Int
                                                                      7:
                                                                        Arrow:
                                                                          arg_multi: Linear
                                                                          arg:
                                                                            Literal: Int
                                                                          ret:
                                                                            Arrow:
                                                                              arg_multi: Linear
                                                                              arg:
                                                                                Literal: Int
                                                                              ret:
                                                                                Literal: Bool
                                                                      9:
                                                                        Arrow:
                                                                          arg_multi: Linear
                                                                          arg:
                                                                            Literal: Int
                                                                          ret:
                                                                            Arrow:
                                                                              arg_multi: Linear
                                                                              arg:
                                                                                Literal: Int
                                                                              ret:
                                                                                Literal: Int
                                                                      10:
                                                                        Arrow:
                                                                          arg_multi: Linear
                                                                          arg:
                                                                            Literal: Int
                                                                          ret:
                                                                            Arrow:
                                                                              arg_multi: Linear
                                                                              arg:
                                                                                Literal: Int
                                                                              ret:
                                                                                Literal: Int
                                                                      11:
                                                                        Arrow:
                                                                          arg_multi: Linear
                                                                          arg:
                                                                            Var: 9
                                                                          ret:
                                                                            Arrow:
                                                                              arg_multi: Linear
                                                                              arg:
                                                                                Var: 10
                                                                              ret:
                                                                                Literal: Bool
                                                                      12:
                                                                        Arrow:
                                                                          arg_multi: Linear
                                                                          arg:
                                                                            Literal: Bool
                                                                          ret:
                                                                            Literal: Bool
                                                                      13:
                                                                        Arrow:
                                                                          arg_multi: Linear
                                                                          arg:
                                                                            Arrow:
                                                                              arg_multi: Unrestricted
                                                                              arg:
                                                                                Literal: Unit
                                                                              ret:
                                                                                Literal: Unit
                                                                          ret:
                                                                            Literal: Unit
                                                                      14:
                                                                        Arrow:
                                                                          arg_multi: Erased
                                                                          arg:
                                                                            Literal: Unit
                                                                          ret:
                                                                            Record:
                                                                              15:
                                                                                ChanSend:
                                                                                  Var: 11
                                                                              16:
                                                                                ChanRecv:
                                                                                  Var: 11
                                                                      17:
                                                                        Arrow:
                                                                          arg_multi: Linear
                                                                          arg:
                                                                            Var: 12
                                                                          ret:
                                                                            Arrow:
                                                                              arg_multi: Linear
                                                                              arg:
                                                                                ChanSend:
                                                                                  Var: 12
                                                                              ret:
                                                                                Literal: Bool
                                                                      18:
                                                                        Arrow:
                                                                          arg_multi: Linear
                                                                          arg:
                                                                            ChanRecv:
                                                                              Var: 13
                                                                          ret:
                                                                            TaggedUnion:
                                                                              19:
                                                                                Literal: Unit
                                                                              20:
                                                                                Var: 13
                                                                      21:
                                                                        Record:
                                                                          22:
                                                                            Arrow:
                                                                              arg_multi: Linear
                                                                              arg:
                                                                                Literal: String
                                                                              ret:
                                                                                Literal: Unit
                                                                  ident_multi: 0
                                                              key:
                                                                offset: 120
                                                                inner: 4
                                                                extra: ~
                                                          extra:
                                                            ty:
                                                              Arrow:
                                                                arg_multi: Linear
                                                                arg:
                                                                  Literal: Int
                                                                ret:
                                                                  Arrow:
                                                                    arg_multi: Linear
                                                                    arg:
                                                                      Literal: Int
                                                                    ret:
                                                                      Literal: Int
                                                            ident_multi: 0
                                                        arg:
                                                          offset: 125
                                                          inner:
                                                            Identifier: 5
                                                          extra:
                                                            ty:
                                                              Literal: Int
                                                            ident_multi: 0
                                                    extra:
                                                      ty:
                                                        Arrow:
                                                          arg_multi: Linear
                                                          arg:
                                                            Literal: Int
                                                          ret:
                                                            Literal: Int
                                                      ident_multi: 0
                                                  arg:
                                                    offset: 127
                                                    inner:
                                                      Identifier: 6
                                                    extra:
                                                      ty:
                                                        Literal: Int
                                                      ident_multi: 0
                                              extra:
                                                ty:
                                                  Literal: Int
                                                ident_multi: 0
                                            rest:
                                              stmts: []
                                              term:
                                                offset: 148
                                                inner:
                                                  If:
                                                    cond:
                                                      offset: 155
                                                      inner:
                                                        Call:
                                                          prim:
                                                            offset: 155
                                                            inner:
                                                              Call:
                                                                prim:
                                                                  offset: 155
                                                                  inner:
                                                                    Dot:
                                                                      prim:
                                                                        offset: 152
                                                                        inner:
                                                                          Identifier: 3
                                                                        extra:
                                                                          ty:
                                                                            Record:
                                                                              4:
                                                                                Arrow:
                                                                                  arg_multi: Linear
                                                                                  arg:
                                                                                    Literal: Int
                                                                                  ret:
                                                                                    Arrow:
                                                                                      arg_multi: Linear
                                                                                      arg:
                                                                                        Literal: Int
                                                                                      ret:
                                                                                        Literal: Int
                                                                              7:
                                                                                Arrow:
                                                                                  arg_multi: Linear
                                                                                  arg:
                                                                                    Literal: Int
                                                                                  ret:
                                                                                    Arrow:
                                                                                      arg_multi: Linear
                                                                                      arg:
                                                                                        Literal: Int
                                                                                      ret:
                                                                                        Literal: Bool
                                                                              9:
                                                                                Arrow:
                                                                                  arg_multi: Linear
                                                                                  arg:
                                                                                    Literal: Int
                                                                                  ret:
                                                                                    Arrow:
                                                                                      arg_multi: Linear
                                                                                      arg:
                                                                                        Literal: Int
                                                                                      ret:
                                                                                        Literal: Int
                                                                              10:
                                                                                Arrow:
                                                                                  arg_multi: Linear
                                                                                  arg:
                                                                                    Literal: Int
                                                                                  ret:
                                                                                    Arrow:
                                                                                      arg_multi: Linear
                                                                                      arg:
                                                                                        Literal: Int
                                                                                      ret:
                                                                                        Literal: Int
                                                                              11:
                                                                                Arrow:
                                                                                  arg_multi: Linear
                                                                                  arg:
                                                                                    Var: 18
                                                                                  ret:
                                                                                    Arrow:
                                                                                      arg_multi: Linear
                                                                                      arg:
                                                                                        Var: 19
                                                                                      ret:
                                                                                        Literal: Bool
                                                                              12:
                                                                                Arrow:
                                                                                  arg_multi: Linear
                                                                                  arg:
                                                                                    Literal: Bool
                                                                                  ret:
                                                                                    Literal: Bool
                                                                              13:
                                                                                Arrow:
                                                                                  arg_multi: Linear
                                                                                  arg:
                                                                                    Arrow:
                                                                                      arg_multi: Unrestricted
                                                                                      arg:
                                                                                        Literal: Unit
                                                                                      ret:
                                                                                        Literal: Unit
                                                                                  ret:
                                                                                    Literal: Unit
                                                                              14:
                                                                                Arrow:
                                                                                  arg_multi: Erased
                                                                                  arg:
                                                                                    Literal: Unit
                                                                                  ret:
                                                                                    Record:
                                                                                      15:
                                                                                        ChanSend:
                                                                                          Var: 20
                                                                                      16:
                                                                                        ChanRecv:
                                                                                          Var: 20
                                                                              17:
                                                                                Arrow:
                                                                                  arg_multi: Linear
                                                                                  arg:
                                                                                    Var: 21
                                                                                  ret:
                                                                                    Arrow:
                                                                                      arg_multi: Linear
                                                                                      arg:
                                                                                        ChanSend:
                                                                                          Var: 21
                                                                                      ret:
                                                                                        Literal: Bool
                                                                              18:
                                                                                Arrow:
                                                                                  arg_multi: Linear
                                                                                  arg:
                                                                                    ChanRecv:
                                                                                      Var: 22
                                                                                  ret:
                                                                                    TaggedUnion:
                                                                                      19:
                                                                                        Literal: Unit
                                                                                      20:
                                                                                        Var: 22
                                                                              21:
                                                                                Record:
                                                                                  22:
                                                                                    Arrow:
                                                                                      arg_multi: Linear
                                                                                      arg:
                                                                                        Literal: String
                                                                                      ret:
                                                                                        Literal: Unit
                                                                          ident_multi: 0
                                                                      key:
                                                                        offset: 156
                                                                        inner: 7
                                                                        extra: ~
                                                                  extra:
                                                                    ty:
                                                                      Arrow:
                                                                        arg_multi: Linear
                                                                        arg:
                                                                          Literal: Int
                                                                        ret:
                                                                          Arrow:
                                                                            arg_multi: Linear
                                                                            arg:
                                                                              Literal: Int
                                                                            ret:
                                                                              Literal: Bool
                                                                    ident_multi: 0
                                                                arg:
                                                                  offset: 160
                                                                  inner:
                                                                    Identifier: 8
                                                                  extra:
                                                                    ty:
                                                                      Literal: Int
                                                                    ident_multi: 0
                                                            extra:
                                                              ty:
                                                                Arrow:
                                                                  arg_multi: Linear
                                                                  arg:
                                                                    Literal: Int
                                                                  ret:
                                                                    Literal: Bool
                                                              ident_multi: 0
                                                          arg:
                                                            offset: 162
                                                            inner:
                                                              Integer: 0
                                                            extra:
                                                              ty:
                                                                Literal: Int
                                                              ident_multi: 0
                                                      extra:
                                                        ty:
                                                          Literal: Bool
                                                        ident_multi: 0
                                                    then:
                                                      stmts: []
                                                      term:
                                                        offset: 187
                                                        inner:
                                                          Identifier: 2
                                                        extra:
                                                          ty:
                                                            Literal: Int
                                                          ident_multi: 0
                                                    or_else:
                                                      stmts: []
                                                      term:
                                                        offset: 213
                                                        inner:
                                                          Call:
                                                            prim:
                                                              offset: 213
                                                              inner:
                                                                Call:
                                                                  prim:
                                                                    offset: 213
                                                                    inner:
                                                                      Call:
                                                                        prim:
                                                                          offset: 213
                                                                          inner:
                                                                            Identifier: 1
                                                                          extra:
                                                                            ty:
                                                                              Arrow:
                                                                                arg_multi: Linear
                                                                                arg:
                                                                                  Literal: Int
                                                                                ret:
                                                                                  Arrow:
                                                                                    arg_multi: Unrestricted
                                                                                    arg:
                                                                                      Literal: Int
                                                                                    ret:
                                                                                      Arrow:
                                                                                        arg_multi: Unrestricted
                                                                                        arg:
                                                                                          Literal: Int
                                                                                        ret:
                                                                                          Literal: Int
                                                                            ident_multi: 0
                                                                        arg:
                                                                          offset: 217
                                                                          inner:
                                                                            Identifier: 6
                                                                          extra:
                                                                            ty:
                                                                              Literal: Int
                                                                            ident_multi: 0
                                                                    extra:
                                                                      ty:
                                                                        Arrow:
                                                                          arg_multi: Unrestricted
                                                                          arg:
                                                                            Literal: Int
                                                                          ret:
                                                                            Arrow:
                                                                              arg_multi: Unrestricted
                                                                              arg:
                                                                                Literal: Int
                                                                              ret:
                                                                                Literal: Int
                                                                      ident_multi: 0
                                                                  arg:
                                                                    offset: 219
                                                                    inner:
                                                                      Identifier: 2
                                                                    extra:
                                                                      ty:
                                                                        Literal: Int
                                                                      ident_multi: 0
                                                              extra:
                                                                ty:
                                                                  Arrow:
                                                                    arg_multi: Unrestricted
                                                                    arg:
                                                                      Literal: Int
                                                                    ret:
                                                                      Literal: Int
                                                                ident_multi: 0
                                                            arg:
                                                              offset: 225
                                                              inner:
                                                                Call:
                                                                  prim:
                                                                    offset: 225
                                                                    inner:
                                                                      Call:
                                                                        prim:
                                                                          offset: 225
                                                                          inner:
                                                                            Dot:
                                                                              prim:
                                                                                offset: 222
                                                                                inner:
                                                                                  Identifier: 3
                                                                                extra:
                                                                                  ty:
                                                                                    Record:
                                                                                      4:
                                                                                        Arrow:
                                                                                          arg_multi: Linear
                                                                                          arg:
                                                                                            Literal: Int
                                                                                          ret:
                                                                                            Arrow:
                                                                                              arg_multi: Linear
                                                                                              arg:
                                                                                                Literal: Int
                                                                                              ret:
                                                                                                Literal: Int
                                                                                      7:
                                                                                        Arrow:
                                                                                          arg_multi: Linear
                                                                                          arg:
                                                                                            Literal: Int
                                                                                          ret:
                                                                                            Arrow:
                                                                                              arg_multi: Linear
                                                                                              arg:
                                                                                                Literal: Int
                                                                                              ret:
                                                                                                Literal: Bool
                                                                                      9:
                                                                                        Arrow:
                                                                                          arg_multi: Linear
                                                                                          arg:
                                                                                            Literal: Int
                                                                                          ret:
                                                                                            Arrow:
                                                                                              arg_multi: Linear
                                                                                              arg:
                                                                                                Literal: Int
                                                                                              ret:
                                                                                                Literal: Int
                                                                                      10:
                                                                                        Arrow:
                                                                                          arg_multi: Linear
                                                                                          arg:
                                                                                            Literal: Int
                                                                                          ret:
                                                                                            Arrow:
                                                                                              arg_multi: Linear
                                                                                              arg:
                                                                                                Literal: Int
                                                                                              ret:
                                                                                                Literal: Int
                                                                                      11:
                                                                                        Arrow:
                                                                                          arg_multi: Linear
                                                                                          arg:
                                                                                            Var: 47
                                                                                          ret:
                                                                                            Arrow:
                                                                                              arg_multi: Linear
                                                                                              arg:
                                                                                                Var: 48
                                                                                              ret:
                                                                                                Literal: Bool
                                                                                      12:
                                                                                        Arrow:
                                                                                          arg_multi: Linear
                                                                                          arg:
                                                                                            Literal: Bool
                                                                                          ret:
                                                                                            Literal: Bool
                                                                                      13:
                                                                                        Arrow:
                                                                                          arg_multi: Linear
                                                                                          arg:
                                                                                            Arrow:
                                                                                              arg_multi: Unrestricted
                                                                                              arg:
                                                                                                Literal: Unit
                                                                                              ret:
                                                                                                Literal: Unit
                                                                                          ret:
                                                                                            Literal: Unit
                                                                                      14:
                                                                                        Arrow:
                                                                                          arg_multi: Erased
                                                                                          arg:
                                                                                            Literal: Unit
                                                                                          ret:
                                                                                            Record:
                                                                                              15:
                                                                                                ChanSend:
                                                                                                  Var: 49
                                                                                              16:
                                                                                                ChanRecv:
                                                                                                  Var: 49
                                                                                      17:
                                                                                        Arrow:
                                                                                          arg_multi: Linear
                                                                                          arg:
                                                                                            Var: 50
                                                                                          ret:
                                                                                            Arrow:
                                                                                              arg_multi: Linear
                                                                                              arg:
                                                                                                ChanSend:
                                                                                                  Var: 50
                                                                                              ret:
                                                                                                Literal: Bool
                                                                                      18:
                                                                                        Arrow:
                                                                                          arg_multi: Linear
                                                                                          arg:
                                                                                            ChanRecv:
                                                                                              Var: 51
                                                                                          ret:
                                                                                            TaggedUnion:
                                                                                              19:
                                                                                                Literal: Unit
                                                                                              20:
                                                                                                Var: 51
                                                                                      21:
                                                                                        Record:
                                                                                          22:
                                                                                            Arrow:
                                                                                              arg_multi: Linear
                                                                                              arg:
                                                                                                Literal: String
                                                                                              ret:
                                                                                                Literal: Unit
                                                                                  ident_multi: 0
                                                                              key:
                                                                                offset: 226
                                                                                inner: 9
                                                                                extra: ~
                                                                          extra:
                                                                            ty:
                                                                              Arrow:
                                                                                arg_multi: Linear
                                                                                arg:
                                                                                  Literal: Int
                                                                                ret:
                                                                                  Arrow:
                                                                                    arg_multi: Linear
                                                                                    arg:
                                                                                      Literal: Int
                                                                                    ret:
                                                                                      Literal: Int
                                                                            ident_multi: 0
                                                                        arg:
                                                                          offset: 232
                                                                          inner:
                                                                            Identifier: 8
                                                                          extra:
                                                                            ty:
                                                                              Literal: Int
                                                                            ident_multi: 0
                                                                    extra:
                                                                      ty:
                                                                        Arrow:
                                                                          arg_multi: Linear
                                                                          arg:
                                                                            Literal: Int
                                                                          ret:
                                                                            Literal: Int
                                                                      ident_multi: 0
                                                                  arg:
                                                                    offset: 234
                                                                    inner:
                                                                      Integer: 1
                                                                    extra:
                                                                      ty:
                                                                        Literal: Int
                                                                      ident_multi: 0
                                                              extra:
                                                                ty:
                                                                  Literal: Int
                                                                ident_multi: 0
                                                        extra:
                                                          ty:
                                                            Literal: Int
                                                          ident_multi: 0
                                                extra:
                                                  ty:
                                                    Literal: Int
                                                  ident_multi: 0
                                        extra:
                                          ty:
                                            Literal: Int
                                          ident_multi: 2
                                  extra:
                                    ty:
                                      Literal: Int
                                    ident_multi: 0
                            extra:
                              ty:
                                Arrow:
                                  arg_multi: Unrestricted
                                  arg:
                                    Literal: Int
                                  ret:
                                    Literal: Int
                              ident_multi: 2
                      extra:
                        ty:
                          Arrow:
                            arg_multi: Unrestricted
                            arg:
                              Literal: Int
                            ret:
                              Arrow:
                                arg_multi: Unrestricted
                                arg:
                                  Literal: Int
                                ret:
                                  Literal: Int
                        ident_multi: 2
                extra:
                  ty:
                    Arrow:
                      arg_multi: Linear
                      arg:
                        Literal: Int
                      ret:
                        Arrow:
                          arg_multi: Unrestricted
                          arg:
                            Literal: Int
                          ret:
                            Arrow:
                              arg_multi: Unrestricted
                              arg:
                                Literal: Int
                              ret:
                                Literal: Int
                  ident_multi: 1
          extra:
            ty:
              Arrow:
                arg_multi: Linear
                arg:
                  Literal: Int
                ret:
                  Arrow:
                    arg_multi: Unrestricted
                    arg:
                      Literal: Int
                    ret:
                      Arrow:
                        arg_multi: Unrestricted
                        arg:
                          Literal: Int
                        ret:
                          Literal: Int
            ident_multi: 1
        rest:
          stmts: []
          term:
            offset: 274
            inner:
              Call:
                prim:
                  offset: 274
                  inner:
                    Call:
                      prim:
                        offset: 274
                        inner:
                          Call:
                            prim:
                              offset: 274
                              inner:
                                Identifier: 1
                              extra:
                                ty:
                                  Arrow:
                                    arg_multi: Linear
                                    arg:
                                      Literal: Int
                                    ret:
                                      Arrow:
                                        arg_multi: Unrestricted
                                        arg:
                                          Literal: Int
                                        ret:
                                          Arrow:
                                            arg_multi: Unrestricted
                                            arg:
                                              Literal: Int
                                            ret:
                                              Literal: Int
                                ident_multi: 0
                            arg:
                              offset: 278
                              inner:
                                Integer: 1
                              extra:
                                ty:
                                  Literal: Int
                                ident_multi: 0
                        extra:
                          ty:
                            Arrow:
                              arg_multi: Unrestricted
                              arg:
                                Literal: Int
                              ret:
                                Arrow:
                                  arg_multi: Unrestricted
                                  arg:
                                    Literal: Int
                                  ret:
                                    Literal: Int
                          ident_multi: 0
                      arg:
                        offset: 280
                        inner:
                          Integer: 1
                        extra:
                          ty:
                            Literal: Int
                          ident_multi: 0
                  extra:
                    ty:
                      Arrow:
                        arg_multi: Unrestricted
                        arg:
                          Literal: Int
                        ret:
                          Literal: Int
                    ident_multi: 0
                arg:
                  offset: 282
                  inner:
                    Integer: 5
                  extra:
                    ty:
                      Literal: Int
                    ident_multi: 0
            extra:
              ty:
                Literal: Int
              ident_multi: 0
    extra:
      ty:
        Literal: Int
      ident_multi: 1
- forall: []
  forall_args: []
  ty:
    Literal: Int

